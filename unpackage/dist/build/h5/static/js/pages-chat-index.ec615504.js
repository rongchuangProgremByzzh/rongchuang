(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-index"],{"117a":function(t,e,i){"use strict";i.r(e);var n=i("913e"),o=i("d685");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("ff42");var s=i("f0c5"),c=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"24a1895e",null);e["default"]=c.exports},"1e91":function(t,e,i){"use strict";(function(t){var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("117a")),a=n(i("542c")),s={data:function(){return{name:"xcecd@qq.com",style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"home",type:"head",content:"你好!"}]}},components:{chatInput:o.default,messageShow:a.default},onLoad:function(){var t=uni.getSystemInfoSync();this.style.pageHeight=t.windowHeight,this.style.contentViewHeight=t.windowHeight-uni.getSystemInfoSync().screenWidth/750*100},methods:{getInputMessage:function(t){this.addMessage("customer",t.content,!1),this.toRobot(t.content),this.setScrollH()},addMessage:function(t,e,i,n){var o=this;e=o.messages.push({user:t,content:e,hasSub:i,subcontent:n})},scrollToBottom:function(){this.scrollTop+=133},toRobot:function(e){var i=this,n="http://www.tuling123.com/openapi/api";uni.request({url:n,data:{key:"acfbca724ea1b5db96d2eef88ce677dc",info:e,userid:"uni-test"},success:function(e){t.log("s",e),i.addMessage("home",e.data.text,!1),i.scrollToBottom(),t.log("request success:"+e.data.text)},fail:function(e){t.log("request fail",e),uni.showModal({content:e.errMsg,showCancel:!1})}})},setScrollH:function(){var e=uni.createSelectorQuery(),i=e.select(".foot"),n=uni.getSystemInfoSync();this.style.pageHeight=n.windowHeight,this.$nextTick(function(){var e=this;i.fields({size:!0},function(o){i=o.height,t.log("fh",o.height),e.style.contentViewHeight=n.windowHeight-i}).exec(),t.log("contentViewHeight",this.style.contentViewHeight)})}}};e.default=s}).call(this,i("5a52")["default"])},2057:function(t,e,i){var n=i("c907");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("2fea58d8",n,!0,{sourceMap:!1,shadowMode:!1})},"3f70":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+t.cid}},[i("v-uni-view",{staticClass:"m-left"},["home"==t.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/homeHL.png"}}):t._e()],1),i("v-uni-view",{staticClass:"m-content"},[i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==t.message.user}},[i("v-uni-view",{class:"m-content-head-"+t.message.user},[i("v-uni-rich-text",{attrs:{nodes:t.message.content.replace(this.reg,t.emotion)}})],1)],1)],1),i("v-uni-view",{staticClass:"m-right"},["customer"==t.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/customerHL.png"}}):t._e()],1)],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},4451:function(t,e,i){var n=i("fe5c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("7a674ba0",n,!0,{sourceMap:!1,shadowMode:!1})},"45fd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481"),i("c5f6");var n={props:{message:{type:Object,default:function(){return{}}},cid:{type:[Number,String],default:""}},data:function(){return{reg:/\#[\S]{1,3}\;/gi}},methods:{emotion:function(t){var e=t.replace(/\#|\;/gi,""),i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],n=i.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(n,'.gif" align="middle">')}}};e.default=n},"4b7a":function(t,e,i){"use strict";i.r(e);var n=i("45fd"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"542c":function(t,e,i){"use strict";i.r(e);var n=i("3f70"),o=i("4b7a");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("999d");var s=i("f0c5"),c=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"3d5060bb",null);e["default"]=c.exports},"5ead":function(t,e,i){var n=i("a9d5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("c4a35c16",n,!0,{sourceMap:!1,shadowMode:!1})},8291:function(t,e,i){"use strict";i.r(e);var n=i("ed11"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"843e":function(t,e,i){"use strict";(function(t){var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");var o=n(i("cdac")),a={name:"chat-input",components:{Emotion:o.default},data:function(){return{inputValue:"",showPannel:!1,focus:!1}},methods:{startRecognize:function(){var e={},i=this;e.engine="iFly",i.inputValue="",plus.speech.startRecognize(e,function(e){t.log(e),i.inputValue+=e},function(e){t.log("语音识别失败："+e.message)})},sendMessge:function(){var t=this;""==t.inputValue.trim()?t.inputValue="":(this.$emit("send-message",{type:"text",content:t.inputValue}),t.inputValue="",this.showPannel=!1)},show:function(){this.showPannel=!this.showPannel,this.$emit("show")},foc:function(){this.showPannel=!1,this.$emit("foc")},emotion:function(t){var e=t.replace(/\#|\;/gi,""),i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],n=i.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(n,'.gif" align="middle">')},handleEmotion:function(t){this.inputValue+=t}}};e.default=a}).call(this,i("5a52")["default"])},"913e":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"footheight"},[i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"footer-left"},[i("v-uni-view",{staticClass:"uni-icon uni-icon-mic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startRecognize.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{type:"text",focus:t.focus},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.foc.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),i("v-uni-view",{staticClass:"footer-emotion",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show.apply(void 0,arguments)}}},[i("i",{staticClass:"icon iconfont icon-face"})]),i("v-uni-view",{staticClass:"footer-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessge.apply(void 0,arguments)}}},[i("v-uni-view",{attrs:{id:"msg-type"}},[t._v("发送")])],1)],1),t.showPannel?i("emotion",{attrs:{height:200},on:{emotion:function(e){arguments[0]=e=t.$handleEvent(e),t.handleEmotion.apply(void 0,arguments)}}}):t._e()],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},"94dc":function(t,e,i){"use strict";i.r(e);var n=i("bd79"),o=i("e62c");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("ca92");var s=i("f0c5"),c=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"1af840c4",null);e["default"]=c.exports},"999d":function(t,e,i){"use strict";var n=i("2057"),o=i.n(n);o.a},a127:function(t,e,i){var n=i("a84d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("56e094b6",n,!0,{sourceMap:!1,shadowMode:!1})},a84d:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".emotion-box[data-v-434b7100]{margin:0 auto;width:95%;box-sizing:border-box;padding:5px;border:1px solid #b4b4b4;overflow:hidden;overflow-y:auto}.emotion-box-line[data-v-434b7100]{display:-webkit-box;display:-webkit-flex;display:flex}.emotion-item[data-v-434b7100]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;cursor:pointer}",""])},a9d5:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.footer[data-v-24a1895e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:100%;height:%?80?%;min-height:%?80?%;border-top:solid 1px #bbb;overflow:hidden;padding:%?5?%;background-color:#fafafa}.footer-left[data-v-24a1895e]{width:%?20?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-right[data-v-24a1895e]{width:%?100?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#272f8f}.footer-emotion[data-v-24a1895e]{width:%?60?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#272f8f}.footer-center[data-v-24a1895e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer-center .input-text[data-v-24a1895e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#fff;border:solid %?1?% #ddd;padding:%?10?%!important;font-family:verdana!important;overflow:hidden;border-radius:%?15?%}@font-face{font-family:iconfont;\n\t/* project id 1134039 */src:url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.eot);src:url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.eot#iefix) format("embedded-opentype"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.woff2) format("woff2"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.woff) format("woff"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.ttf) format("truetype"),url(http://at.alicdn.com/t/font_1134039_uait6xu86bf.svg#iconfont) format("svg")}.iconfont[data-v-24a1895e]{font-family:iconfont!important;font-size:18px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-face[data-v-24a1895e]:before{content:"\\E71C";font-size:%?50?%}',""])},bd79:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-column"},[i("v-uni-view",{staticClass:"content",style:{height:t.style.contentViewHeight+"px"},attrs:{id:"content"}},[i("v-uni-scroll-view",{style:{height:t.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":t.scrollTop}},[i("page-foot",{attrs:{name:t.name}}),t._l(t.messages,function(t,e){return i("message-show",{key:e,attrs:{message:t,cid:e}})}),i("v-uni-view",{attrs:{id:"bottom"}})],2)],1),i("v-uni-view",{staticClass:"foot"},[i("chat-input",{on:{"send-message":function(e){arguments[0]=e=t.$handleEvent(e),t.getInputMessage.apply(void 0,arguments)},show:function(e){arguments[0]=e=t.$handleEvent(e),t.setScrollH.apply(void 0,arguments)},foc:function(e){arguments[0]=e=t.$handleEvent(e),t.setScrollH.apply(void 0,arguments)}}})],1)],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},c907:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.m-item[data-v-3d5060bb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?40?%}.m-left[data-v-3d5060bb]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.m-content[data-v-3d5060bb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;word-break:break-all}.m-right[data-v-3d5060bb]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.head_icon[data-v-3d5060bb]{width:%?80?%;height:%?80?%}.m-content-head[data-v-3d5060bb]{position:relative}.m-content-head-right[data-v-3d5060bb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.m-content-head-home[data-v-3d5060bb]{text-align:left;background:#b5b8e1;border:1px #b5b8e1 solid;border-radius:%?20?%;padding:%?20?%;font-size:%?21?%;letter-spacing:%?2?%;line-height:%?40?%;color:#fff;display:inline-block}.m-content-head-home[data-v-3d5060bb]:before{border:%?15?% solid transparent;border-right:%?15?% solid #b5b8e1;left:%?-26?%;width:0;height:0;position:absolute;content:" "}.m-content-head-customer[data-v-3d5060bb]{border:%?1?% #fff solid;background:#9ea5ff;font-size:%?21?%;line-height:%?40?%;letter-spacing:%?2?%;color:#fff;border-radius:%?20?%;padding:%?20?%}.m-content-head-customer[data-v-3d5060bb]:after{border:%?15?% solid transparent;border-left:%?15?% solid #9ea5ff;top:%?20?%;right:%?-26?%;width:0;height:0;position:absolute;content:" "}',""])},ca92:function(t,e,i){"use strict";var n=i("4451"),o=i.n(n);o.a},cc4d:function(t,e,i){"use strict";var n=i("a127"),o=i.n(n);o.a},cdac:function(t,e,i){"use strict";i.r(e);var n=i("f4f6"),o=i("8291");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("cc4d");var s=i("f0c5"),c=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"434b7100",null);e["default"]=c.exports},d685:function(t,e,i){"use strict";i.r(e);var n=i("843e"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},e62c:function(t,e,i){"use strict";i.r(e);var n=i("1e91"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},ed11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n={props:{height:{type:Number,default:200}},data:function(){return{list:[["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴"],["睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过"],["酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢"],["饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂"],["疑问","嘘","晕","折磨","衰","骷髅","敲打","再见"],["擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠"],["鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀"],["西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰"],["凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀"],["足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强"],["弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你"],["NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈"],["磕头","回头","跳绳","挥手","激动","街舞","左太极","右太极"]],reg:/\S{1,3}/gi,item:[]}},methods:{clickHandler:function(t){var e="#".concat(t,";");this.$emit("emotion",e)},emotion:function(t){var e=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],i=e.indexOf(t);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(i,'.gif" align="middle">')}}};e.default=n},f4f6:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"emotion-box",style:{height:t.height+"px"}},t._l(t.list,function(e,n){return i("v-uni-view",{key:n,staticClass:"emotion-box-line"},t._l(e,function(e,n){return i("v-uni-view",{key:n,staticClass:"emotion-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickHandler(e)}}},[i("v-uni-rich-text",{attrs:{nodes:e.replace(/\S{1,3}/gi,t.emotion(e))}})],1)}),1)}),1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},fe5c:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-column[data-v-1af840c4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.content[data-v-1af840c4]{background:#fafafa;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1\n\t\t/* margin-bottom: 100upx; */}.foot[data-v-1af840c4]{position:fixed;width:100%;\n\t\t/* height: 90upx;\n\t\tmin-height: 90upx; */height:auto;left:%?0?%;bottom:0;overflow:hidden}",""])},ff42:function(t,e,i){"use strict";var n=i("5ead"),o=i.n(n);o.a}}]);