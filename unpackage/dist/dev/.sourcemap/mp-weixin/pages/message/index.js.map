{"version":3,"sources":["webpack:///C:/Users/96539/Desktop/police/rongchuang/main.js","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?6026","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?637c","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?dc2c","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?1931","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?9d65","webpack:///C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue?5623"],"names":["createPage","Page","components","data","userinfolist","timer","socketTask","methods","gotochat","uid","close","uni","navigateTo","url","wxChat","token","getStorageSync","connectSocket","complete","onSocketOpen","res","console","log","setInterval","send","Math","random","success","onMessage","message","JSON","parse","fromId","initData","onError","$http","people","then","beforeDestroy","clearInterval","mounted","onShow","onHide","onUnload"],"mappings":"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","file":"pages/message/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/message/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0108e5cc&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0108e5cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0108e5cc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0108e5cc')) {\n      api.createRecord('0108e5cc', component.options)\n    } else {\n      api.reload('0108e5cc', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=0108e5cc&scoped=true&\", function () {\n      api.rerender('0108e5cc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/96539/Desktop/police/rongchuang/pages/message/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0108e5cc&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.userinfolist, function(userinfo, index) {\n    var f0 = _vm._f(\"formatTime\")(userinfo.time)\n\n    return {\n      $orig: _vm.__get_orig(userinfo),\n      f0: f0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nexport default {\n\tcomponents: {\n\t\t\n\t},\n\tdata() {\n\t  return {\n\t   userinfolist:[],\n\t   timer:null,\n\t   socketTask:null\n\t  }\n\t},\n\tmethods:{\n\t\tgotochat(uid){\n\t\t\tthis.socketTask.close()\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/chat/index?uid='+uid\n\t\t\t});\t\t\n\t\t},\n\t\twxChat(){\n\t\t\tlet token=uni.getStorageSync('token')\n\t\t\tthis.socketTask = uni.connectSocket({\n\t\t\t    url: `wss://rongchuang.api.sqhd850.cn/ws/${token}`, //仅为示例，并非真实接口地址。\n\t\t\t    complete: ()=> {}\n\t\t\t});\n\t\t\tuni.onSocketOpen( (res)=> {\n\t\t\t  console.log('WebSocket连接已打开！');\n\t\t\t this.timer= setInterval(()=>{\n\t\t\t\t   this.socketTask.send({\n\t\t\t\t        data: `{content:'',type:1,toUser:-1,uuid:${Math.random()}}`,\n\t\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t}\n\t\t\t\t      });\n\t\t\t  },50*1000)\n\t\t\t});\n\t\t\tthis.socketTask.onMessage( (res)=> {\n\t\t\t  console.log('收到服务器内容：' + res.data);\n\t\t\t  let message=JSON.parse(res.data);\n\t\t\t if(message&&message.fromId&&message.fromId!=-1){\n\t\t\t\tthis.initData()//更新leibiao\n\t\t\t\t\n\t\t\t }\n\t\t\t});\n\t\t\tuni.onError( (res)=> {\n\t\t\t  console.log('WebSocket连接打开失败，请检查！');\n\t\t\t  this.wxChat()\n\t\t\t});\n\t\t},\n\t\tinitData(){\n\t\t\tlet token=uni.getStorageSync('token')\n\t\t\tthis.$http.people(token).then(res=>{\n\t\t\t\tthis.userinfolist=res.data\n\t\t\t})\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tclearInterval(this.timer)\n\t},\n\tmounted() {\n\t\t\n\t},\n\tonShow() {\n\t\tthis.wxChat()\n\t\tthis.initData()\n\t},\n\tonHide(){\n\t\tclearInterval(this.timer);\n\t\tthis.socketTask.close()\n\t},\n\tonUnload(){\n\t\tclearInterval(this.timer);\n\t\tthis.socketTask.close()\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0108e5cc&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0108e5cc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}